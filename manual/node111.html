<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head> <title>GNU Goptical manual </title> <link rel="stylesheet" href="mkdoc.css" /> <meta name="Generator" content="MKDOC 1.0" /></head><body>
<div><a href="index.html" accesskey="top">Top</a> - <a href="node0.html#ref0">Table of contents</a>
 - <a href="node1.html#ref1">Introduction</a>
 - <a href="node2.html#ref2">API documentation</a>
 - <a href="node3.html#ref6">Main classes</a>
<div style="float: right"><a href="node110.html" accesskey="p">Previous </a> - <a href="node2.html" accesskey="u"> Up </a> - <a href="node112.html" accesskey="n"> Next</a></div></div><div style="clear: both; height:20px;"></div>
<h1><span class="tt">Goptical::Sys::Element</span> class reference<br /><span class="subtitle">
[Core module]</span>
</h1>
<div style="clear: both; height:20px;"></div>
<h2>Declaration<a href="#ref1982" id="ref1982" class="hover_link">&nbsp;&nbsp;</a></h2>
<div class="divtextcontent"><div class="codebox"><code><span class="codedir">#include</span> &lt;Goptical/SysElement&gt;<br /><br /><span class="codekw">class</span> Element;<br /></code></div></div><h2>Description<a href="#ref1983" id="ref1983" class="hover_link">&nbsp;&nbsp;</a></h2>
<div class="divtextcontent"><p>This is the base class for all optical elements. It may be a member of <span class="tt"><a href="node110.html">Container</a></span>. It handles element position in 3d space.</p></div><h2>Members list<a href="#ref1984" id="ref1984" class="hover_link">&nbsp;&nbsp;</a></h2>
<h3>Inherits<a href="#ref1985" id="ref1985" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt"><a href="node129.html">RefObj</a>&lt;<a href="node111.html">Element</a>&gt;</span> (public inheritance)</li>
</ul>
<h3>Public functions<a href="#ref1986" id="ref1986" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt"><a href="node111.html#ref1991">Element</a>(const Math::Vector&lt;3&gt; &amp;position)</span></li>
<li><span class="tt"><a href="node111.html#ref1992">Element</a>(const Math::VectorPair&lt;3&gt; &amp;position)</span></li>
<li><span class="tt">virtual ~Element()</span></li>
<li><span class="tt">virtual void&nbsp; <a href="node111.html#ref2016">draw</a>(Io::Renderer &amp;r) const</span></li>
<li><span class="tt">virtual Math::VectorPair&lt;3&gt;&nbsp; <a href="node111.html#ref2010">get_bounding_box</a>() const</span></li>
<li><span class="tt">Math::Vector&lt;3&gt;&nbsp; <a href="node111.html#ref2000">get_direction</a>(const Element &amp;e) const</span></li>
<li><span class="tt">Math::Vector&lt;3&gt;&nbsp; <a href="node111.html#ref2002">get_direction</a>() const</span></li>
<li><span class="tt">const Math::Transform&lt;3&gt; &amp; <a href="node111.html#ref2006">get_global_transform</a>() const</span></li>
<li><span class="tt">Math::Vector&lt;3&gt;&nbsp; <a href="node111.html#ref1997">get_local_direction</a>() const</span></li>
<li><span class="tt">const Math::Vector&lt;3&gt; &amp; <a href="node111.html#ref1995">get_local_position</a>() const</span></li>
<li><span class="tt">const Math::Transform&lt;3&gt; &amp; <a href="node111.html#ref2007">get_local_transform</a>() const</span></li>
<li><span class="tt">Math::Vector&lt;3&gt;&nbsp; <a href="node111.html#ref1999">get_position</a>(const Element &amp;e) const</span></li>
<li><span class="tt">Math::Vector&lt;3&gt;&nbsp; <a href="node111.html#ref2001">get_position</a>() const</span></li>
<li><span class="tt">const System * <a href="node111.html#ref2009">get_system</a>() const</span></li>
<li><span class="tt">const Math::Transform&lt;3&gt; &amp; <a href="node111.html#ref2003">get_transform</a>() const</span></li>
<li><span class="tt">const Math::Transform&lt;3&gt; &amp; <a href="node111.html#ref2005">get_transform_to</a>(const Element &amp;e) const</span></li>
<li><span class="tt">unsigned int&nbsp; <a href="node111.html#ref2011">get_version</a>() const</span></li>
<li><span class="tt">unsigned int&nbsp; <a href="node111.html#ref2008">id</a>() const</span></li>
<li><span class="tt">bool&nbsp; <a href="node111.html#ref2013">is_enabled</a>() const</span></li>
<li><span class="tt">template void&nbsp; <a href="node111.html#ref2015">process_ray</a>(Trace::Result &amp;result, Trace::rays_list_t *input)</span></li>
<li><span class="tt">void&nbsp; <a href="node111.html#ref1998">rotate</a>(double x, double y, double z)</span></li>
<li><span class="tt">void&nbsp; <a href="node111.html#ref2014">set_enable_state</a>(bool enabled)</span></li>
<li><span class="tt">void&nbsp; <a href="node111.html#ref1996">set_local_direction</a>(const Math::Vector&lt;3&gt; &amp;v)</span></li>
<li><span class="tt">void&nbsp; <a href="node111.html#ref1994">set_local_position</a>(const Math::Vector&lt;3&gt; &amp;v)</span></li>
<li><span class="tt">void&nbsp; <a href="node111.html#ref2004">set_transform</a>(const Math::Transform&lt;3&gt; &amp;t)</span></li>
<li><span class="tt">void&nbsp; <a href="node111.html#ref2012">update_version</a>()</span></li>
</ul>
<h3>Protected functions<a href="#ref1987" id="ref1987" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt">virtual void&nbsp; <a href="node111.html#ref2021">system_moved</a>()</span></li>
<li><span class="tt">virtual void&nbsp; <a href="node111.html#ref2019">system_register</a>(System &amp;s)</span></li>
<li><span class="tt">virtual void&nbsp; <a href="node111.html#ref2020">system_unregister</a>()</span></li>
</ul>
<h3>Protected fields<a href="#ref1988" id="ref1988" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt">Container *<a href="node111.html#ref2018">_container</a></span></li>
<li><span class="tt">bool <a href="node111.html#ref2022">_enabled</a></span></li>
<li><span class="tt">System *<a href="node111.html#ref2017">_system</a></span></li>
<li><span class="tt">unsigned int <a href="node111.html#ref2023">_version</a></span></li>
</ul>
<h3>Inherited members<a href="#ref1989" id="ref1989" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li>12 members inherited from <a href="node129.html">RefObj</a></li>
</ul>
<h2>Members detail<a href="#ref1990" id="ref1990" class="hover_link">&nbsp;&nbsp;</a></h2>
<div class="divpublicmember"><h3><span class="tt">Element(const Math::<a href="node81.html">Vector</a>&lt;3&gt; &amp;position)</span><a href="#ref1991" id="ref1991" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Create a new optical element at given position.</p></div><div class="divpublicmember"><h3><span class="tt">Element(const Math::<a href="node84.html">VectorPair</a>&lt;3&gt; &amp;position)</span><a href="#ref1992" id="ref1992" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Create a new optical element with given position and direction</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_local_position(const Math::<a href="node81.html">Vector</a>&lt;3&gt; &amp;v)</span><a href="#ref1994" id="ref1994" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Set element local position</p></div><div class="divpublicmember"><h3><span class="tt">const Math::<a href="node81.html">Vector</a>&lt;3&gt; &amp; get_local_position() const</span><a href="#ref1995" id="ref1995" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get element local position</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_local_direction(const Math::<a href="node81.html">Vector</a>&lt;3&gt; &amp;v)</span><a href="#ref1996" id="ref1996" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Set element local direction</p></div><div class="divpublicmember"><h3><span class="tt">Math::<a href="node81.html">Vector</a>&lt;3&gt;&nbsp; get_local_direction() const</span><a href="#ref1997" id="ref1997" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get element local direction</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; rotate(double x, double y, double z)</span><a href="#ref1998" id="ref1998" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Rotate element direction. angles are in degrees</p></div><div class="divpublicmember"><h3><span class="tt">Math::<a href="node81.html">Vector</a>&lt;3&gt;&nbsp; get_position(const <a href="node111.html">Element</a> &amp;e) const</span><a href="#ref1999" id="ref1999" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get element position relative to given element</p></div><div class="divpublicmember"><h3><span class="tt">Math::<a href="node81.html">Vector</a>&lt;3&gt;&nbsp; get_direction(const <a href="node111.html">Element</a> &amp;e) const</span><a href="#ref2000" id="ref2000" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get element direction relative to given element</p></div><div class="divpublicmember"><h3><span class="tt">Math::<a href="node81.html">Vector</a>&lt;3&gt;&nbsp; get_position() const</span><a href="#ref2001" id="ref2001" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get element global position</p></div><div class="divpublicmember"><h3><span class="tt">Math::<a href="node81.html">Vector</a>&lt;3&gt;&nbsp; get_direction() const</span><a href="#ref2002" id="ref2002" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get element global direction</p></div><div class="divpublicmember"><h3><span class="tt">const Math::<a href="node74.html">Transform</a>&lt;3&gt; &amp; get_transform() const</span><a href="#ref2003" id="ref2003" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get transform to parent element coordinate system</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_transform(const Math::<a href="node74.html">Transform</a>&lt;3&gt; &amp;t)</span><a href="#ref2004" id="ref2004" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Set transform to parant element coordinate system</p></div><div class="divpublicmember"><h3><span class="tt">const Math::<a href="node74.html">Transform</a>&lt;3&gt; &amp; get_transform_to(const <a href="node111.html">Element</a> &amp;e) const</span><a href="#ref2005" id="ref2005" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get transform to given element local coordinates</p></div><div class="divpublicmember"><h3><span class="tt">const Math::<a href="node74.html">Transform</a>&lt;3&gt; &amp; get_global_transform() const</span><a href="#ref2006" id="ref2006" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get transform from local to global coordinates</p></div><div class="divpublicmember"><h3><span class="tt">const Math::<a href="node74.html">Transform</a>&lt;3&gt; &amp; get_local_transform() const</span><a href="#ref2007" id="ref2007" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get transform from global to local coordinates</p></div><div class="divpublicmember"><h3><span class="tt">unsigned int&nbsp; id() const</span><a href="#ref2008" id="ref2008" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get element identifer in current system</p></div><div class="divpublicmember"><h3><span class="tt">const <a href="node109.html">System</a> * get_system() const</span><a href="#ref2009" id="ref2009" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get pointer to system</p></div><div class="divpublicmember"><h3><span class="tt">virtual Math::<a href="node84.html">VectorPair</a>&lt;3&gt;&nbsp; get_bounding_box() const</span><a href="#ref2010" id="ref2010" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get bounding box in local coordinates</p></div><div class="divpublicmember"><h3><span class="tt">unsigned int&nbsp; get_version() const</span><a href="#ref2011" id="ref2011" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get element version. version is updated each time element or its children properties are changed</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; update_version()</span><a href="#ref2012" id="ref2012" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Increase current element version</p></div><div class="divpublicmember"><h3><span class="tt">bool&nbsp; is_enabled() const</span><a href="#ref2013" id="ref2013" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Return true if element must be considered</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_enable_state(bool enabled)</span><a href="#ref2014" id="ref2014" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Set enable state</p></div><div class="divpublicmember"><h3><span class="tt">template &lt;Trace::IntensityMode m&gt; void&nbsp; process_ray(Trace::<a href="node116.html">Result</a> &amp;result, Trace::rays_list_t *input)</span><a href="#ref2015" id="ref2015" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Batch process a list of light rays interacting with element</p></div><div class="divpublicmember"><h3><span class="tt">virtual void&nbsp; draw(Io::<a href="node41.html">Renderer</a> &amp;r) const</span><a href="#ref2016" id="ref2016" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Draw element using the given renderer</p></div><div class="divprotectedmember"><h3><span class="tt"><a href="node109.html">System</a> *_system</span><a href="#ref2017" id="ref2017" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This field access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt"><a href="node110.html">Container</a> *_container</span><a href="#ref2018" id="ref2018" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This field access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">virtual void&nbsp; system_register(<a href="node109.html">System</a> &amp;s)</span><a href="#ref2019" id="ref2019" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">virtual void&nbsp; system_unregister()</span><a href="#ref2020" id="ref2020" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">virtual void&nbsp; system_moved()</span><a href="#ref2021" id="ref2021" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">bool _enabled</span><a href="#ref2022" id="ref2022" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This field access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">unsigned int _version</span><a href="#ref2023" id="ref2023" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This field access is protected.</p></div><hr /><p class="generated"><a style="float: right;" href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10-blue" alt="Valid XHTML 1.0 Strict" height="31" width="88" /></a>Generated by diaxen on Wed Nov 11 21:50:26 2009 using <a href="https://savannah.nongnu.org/projects/mkdoc/">MkDoc</a></p></body></html>