<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head> <title>GNU Goptical manual </title> <link rel="stylesheet" href="mkdoc.css" /> <meta name="Generator" content="MKDOC 1.0" /></head><body>
<div><a href="index.html" accesskey="top">Top</a> - <a href="node0.html#ref0">Table of contents</a>
 - <a href="node1.html#ref1">Introduction</a>
 - <a href="node2.html#ref2">API documentation</a>
 - <a href="node3.html#ref6">Main classes</a>
<div style="float: right"><a href="node20.html" accesskey="p">Previous </a> - <a href="node2.html" accesskey="u"> Up </a> - <a href="node22.html" accesskey="n"> Next</a></div></div><div style="clear: both; height:20px;"></div>
<h1><span class="tt">Goptical::Curve::Zernike</span> class reference<br /><span class="subtitle">
[Core module]</span>
</h1>
<div style="clear: both; height:20px;"></div>
<h2>Declaration<a href="#ref283" id="ref283" class="hover_link">&nbsp;&nbsp;</a></h2>
<div class="divtextcontent"><div class="codebox"><code><span class="codedir">#include</span> &lt;Goptical/CurveZernike&gt;<br /><br /><span class="codekw">class</span> Zernike;<br /></code></div></div><h2>Description<a href="#ref284" id="ref284" class="hover_link">&nbsp;&nbsp;</a></h2>
<div class="divtextcontent"><p>This class enables use of zernikes polynomials to define a surface curve. Zernikes terms can be enabled and disabled individually.</p><p>Fitting can be used to get best fit Zernike polynomials coefficients of an other curve.</p><p>This implementation uses Zernike polynomials set as described in ISO standard 10110-5.</p><p>Based on Zernikes pages by James C Wyant and Michael Koch. <a href="http://www.optics.arizona.edu/jcwyant/Zernikes/ZernikePolynomials.htm">http://www.optics.arizona.edu/jcwyant/Zernikes/ZernikePolynomials.htm</a> and <a href="http://www.astro-electronic.de/faq2.htm">http://www.astro-electronic.de/faq2.htm</a></p></div><h2>Members list<a href="#ref285" id="ref285" class="hover_link">&nbsp;&nbsp;</a></h2>
<h3>Inherits<a href="#ref286" id="ref286" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt"><a href="node13.html">Curve</a></span> (public inheritance)</li>
</ul>
<h3>Public functions<a href="#ref287" id="ref287" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt"><a href="node21.html#ref293">Zernike</a>(double radius, double unit_scale)</span></li>
<li><span class="tt"><a href="node21.html#ref294">Zernike</a>(double radius, double coefs[], unsigned int coefs_count, double unit_scale)</span></li>
<li><span class="tt">void&nbsp; <a href="node21.html#ref305">derivative</a>(const Math::Vector&lt;2&gt; &amp;xy, Math::Vector&lt;2&gt; &amp;dxdy) const</span></li>
<li><span class="tt">double&nbsp; <a href="node21.html#ref303">fit</a>(const Curve &amp;c, const Trace::Distribution &amp;d)</span></li>
<li><span class="tt">double&nbsp; <a href="node21.html#ref298">get_coefficient</a>(unsigned int n) const</span></li>
<li><span class="tt">double&nbsp; <a href="node21.html#ref296">get_radius</a>() const</span></li>
<li><span class="tt">bool&nbsp; <a href="node21.html#ref302">get_term_state</a>(unsigned int n)</span></li>
<li><span class="tt">double&nbsp; <a href="node21.html#ref304">sagitta</a>(const Math::Vector&lt;2&gt; &amp;xy) const</span></li>
<li><span class="tt">void&nbsp; <a href="node21.html#ref297">set_coefficient</a>(unsigned int n, double c)</span></li>
<li><span class="tt">void&nbsp; <a href="node21.html#ref299">set_coefficients_scale</a>(double s)</span></li>
<li><span class="tt">void&nbsp; <a href="node21.html#ref300">set_coefficients_threshold</a>(double t)</span></li>
<li><span class="tt">void&nbsp; <a href="node21.html#ref295">set_radius</a>(double radius)</span></li>
<li><span class="tt">void&nbsp; <a href="node21.html#ref301">set_term_state</a>(unsigned int n, bool enabled)</span></li>
</ul>
<h3>Public static functions<a href="#ref288" id="ref288" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt">static double&nbsp; <a href="node21.html#ref306">zernike_poly</a>(unsigned int n, const Math::Vector&lt;2&gt; &amp;xy)</span></li>
<li><span class="tt">static void&nbsp; <a href="node21.html#ref307">zernike_poly_d</a>(unsigned int n, const Math::Vector&lt;2&gt; &amp;xy, Math::Vector&lt;2&gt; &amp;dxdy)</span></li>
</ul>
<h3>Public fields<a href="#ref289" id="ref289" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt">static const unsigned int <a href="node21.html#ref292">term_count</a></span></li>
</ul>
<h3>Inherited members<a href="#ref290" id="ref290" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li>7 members inherited from <a href="node13.html">Curve</a></li>
</ul>
<h2>Members detail<a href="#ref291" id="ref291" class="hover_link">&nbsp;&nbsp;</a></h2>
<div class="divpublicmember"><h3><span class="tt">static const unsigned int term_count</span><a href="#ref292" id="ref292" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Number of implemented zernike polynomials</p></div><div class="divpublicmember"><h3><span class="tt">Zernike(double radius, double unit_scale = 1.0 f)</span><a href="#ref293" id="ref293" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Create a Zernike curve defined over the given circle radius. </p><ul><li><em>radius: </em> Zernike circle radius </li>
<li><em>unit_scale: </em> Sagitta scale factor used to change units globally</li>
</ul>
</div><div class="divpublicmember"><h3><span class="tt">Zernike(double radius, double coefs[], unsigned int coefs_count, double unit_scale = 1.0 f)</span><a href="#ref294" id="ref294" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Create a Zernike curve defined over the given circle radius and initialize coefficients from table. </p><ul><li><em>radius: </em> Zernike circle radius </li>
<li><em>coefs: </em> Table of Zernike coefficients starting with z0 (piston) </li>
<li><em>coefs_count: </em> Number of coefficients available in the table </li>
<li><em>unit_scale: </em> Sagitta scale factor used to change units globally</li>
</ul>
</div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_radius(double radius)</span><a href="#ref295" id="ref295" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Set Zernike circle radius</p></div><div class="divpublicmember"><h3><span class="tt">double&nbsp; get_radius() const</span><a href="#ref296" id="ref296" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get Zernike circle radius</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_coefficient(unsigned int n, double c)</span><a href="#ref297" id="ref297" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Set coefficient associated with zernike term n and enable term according to current threshold. See set_coefficients_threshold()</p></div><div class="divpublicmember"><h3><span class="tt">double&nbsp; get_coefficient(unsigned int n) const</span><a href="#ref298" id="ref298" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get coefficient associated with zernike term n</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_coefficients_scale(double s)</span><a href="#ref299" id="ref299" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Set coefficients unit scale factor. default is 1 (1 mm).</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_coefficients_threshold(double t)</span><a href="#ref300" id="ref300" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Set new coefficient threshold and adjust all term states (enabled/disabled) depending on new threshold. Term with coefficient absolute value below the specified threshold will be disabled. Disabling useless terms improve performance. Default threshold is 10^-10.</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_term_state(unsigned int n, bool enabled)</span><a href="#ref301" id="ref301" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This functions must be used to enable/disable a zernike term without changing its coefficient</p></div><div class="divpublicmember"><h3><span class="tt">bool&nbsp; get_term_state(unsigned int n)</span><a href="#ref302" id="ref302" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get current term enable state</p></div><div class="divpublicmember"><h3><span class="tt">double&nbsp; fit(const <a href="node13.html">Curve</a> &amp;c, const Trace::<a href="node114.html">Distribution</a> &amp;d = default_dist)</span><a href="#ref303" id="ref303" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Compute all zernike coefficient to best fit the given curve. RMS difference is returned. The specified distribution is used to choose sampling points on curve. Terms state is adjusted according to current threshold</p></div><div class="divpublicmember"><h3><span class="tt">double&nbsp; sagitta(const Math::<a href="node82.html">Vector</a>&lt;2&gt; &amp;xy) const</span><a href="#ref304" id="ref304" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function implements the <a href="node13.html#ref161">sagitta</a> pure function declared in the <a href="node13.html">Curve</a> base class.</p><p><span class="nodoc">Documentation inherited from base class:</span></p><p>Get curve sagitta at specified point</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; derivative(const Math::<a href="node82.html">Vector</a>&lt;2&gt; &amp;xy, Math::<a href="node82.html">Vector</a>&lt;2&gt; &amp;dxdy) const</span><a href="#ref305" id="ref305" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function reimplements the <a href="node13.html#ref162">derivative</a> virtual function defined in the <a href="node13.html">Curve</a> base class.</p><p><span class="nodoc">Documentation inherited from base class:</span></p><p>Get curve x and y derivative (gradient) at specified point</p></div><div class="divpublicmember"><h3><span class="tt">static double&nbsp; zernike_poly(unsigned int n, const Math::<a href="node82.html">Vector</a>&lt;2&gt; &amp;xy)</span><a href="#ref306" id="ref306" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Evaluate zernike polynomial n</p></div><div class="divpublicmember"><h3><span class="tt">static void&nbsp; zernike_poly_d(unsigned int n, const Math::<a href="node82.html">Vector</a>&lt;2&gt; &amp;xy, Math::<a href="node82.html">Vector</a>&lt;2&gt; &amp;dxdy)</span><a href="#ref307" id="ref307" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Evaluate x and y derivatives of zernike polynomial n</p></div><hr /><p class="generated"><a style="float: right;" href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10-blue" alt="Valid XHTML 1.0 Strict" height="31" width="88" /></a>Generated by diaxen on Wed Nov 11 21:50:25 2009 using <a href="https://savannah.nongnu.org/projects/mkdoc/">MkDoc</a></p></body></html>