<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head> <title>GNU Goptical manual </title> <link rel="stylesheet" href="mkdoc.css" /> <meta name="Generator" content="MKDOC 1.0" /></head><body>
<div><a href="index.html" accesskey="top">Top</a> - <a href="node0.html#ref0">Table of contents</a>
 - <a href="node1.html#ref1">Introduction</a>
 - <a href="node2.html#ref2">API documentation</a>
 - <a href="node3.html#ref6">Main classes</a>
<div style="float: right"><a href="node108.html" accesskey="p">Previous </a> - <a href="node2.html" accesskey="u"> Up </a> - <a href="node110.html" accesskey="n"> Next</a></div></div><div style="clear: both; height:20px;"></div>
<h1><span class="tt">Goptical::Sys::System</span> class reference<br /><span class="subtitle">
[Core module]</span>
</h1>
<div style="clear: both; height:20px;"></div>
<h2>Declaration<a href="#ref1927" id="ref1927" class="hover_link">&nbsp;&nbsp;</a></h2>
<div class="divtextcontent"><div class="codebox"><code><span class="codedir">#include</span> &lt;Goptical/SysSystem&gt;<br /><br /><span class="codekw">class</span> System;<br /></code></div></div><h2>Description<a href="#ref1928" id="ref1928" class="hover_link">&nbsp;&nbsp;</a></h2>
<div class="divtextcontent"><p>This class is used to describe an optical system. Any optical elements may be part of a <span class="tt"><a href="node109.html">System</a></span>. This class handle 3d transformation between elements local coordinates.</p></div><h2>Members list<a href="#ref1929" id="ref1929" class="hover_link">&nbsp;&nbsp;</a></h2>
<h3>Inherits<a href="#ref1930" id="ref1930" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt"><a href="node129.html">RefObj</a>&lt;<a href="node109.html">System</a>&gt;</span> (public inheritance)</li>
<li><span class="tt"><a href="node110.html">Container</a></span> (public inheritance)</li>
</ul>
<h3>Public functions<a href="#ref1931" id="ref1931" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt"><a href="node109.html#ref1934">System</a>()</span></li>
<li><span class="tt">virtual ~System()</span></li>
<li><span class="tt">Surface * <a href="node109.html#ref1955">colide_next</a>(Math::Plane &amp;intersect, const Trace::Ray &amp;ray) const</span></li>
<li><span class="tt">void&nbsp; <a href="node109.html#ref1954">draw</a>(Io::Renderer &amp;r) const</span></li>
<li><span class="tt">Element &amp; <a href="node109.html#ref1951">get_element</a>(unsigned int index) const</span></li>
<li><span class="tt">unsigned int&nbsp; <a href="node109.html#ref1950">get_element_count</a>() const</span></li>
<li><span class="tt">Surface &amp; <a href="node109.html#ref1938">get_entrance_pupil</a>() const</span></li>
<li><span class="tt">Material::Material &amp; <a href="node109.html#ref1957">get_evironment</a>() const</span></li>
<li><span class="tt">Surface &amp; <a href="node109.html#ref1941">get_exit_pupil</a>() const</span></li>
<li><span class="tt">const Math::Transform&lt;3&gt; &amp; <a href="node109.html#ref1946">get_global_transform</a>(const Element &amp;from) const</span></li>
<li><span class="tt">const Math::Transform&lt;3&gt; &amp; <a href="node109.html#ref1947">get_local_transform</a>(const Element &amp;to) const</span></li>
<li><span class="tt">const std::list&lt;Source*&gt; &amp; <a href="node109.html#ref1953">get_source_list</a>() const</span></li>
<li><span class="tt">const Trace::Params &amp; <a href="node109.html#ref1943">get_tracer_params</a>() const</span></li>
<li><span class="tt">Trace::Params &amp; <a href="node109.html#ref1944">get_tracer_params</a>()</span></li>
<li><span class="tt">const Math::Transform&lt;3&gt; &amp; <a href="node109.html#ref1945">get_transform</a>(const Element &amp;from, const Element &amp;to) const</span></li>
<li><span class="tt">unsigned int&nbsp; <a href="node109.html#ref1949">get_version</a>() const</span></li>
<li><span class="tt">bool&nbsp; <a href="node109.html#ref1939">has_entrance_pupil</a>() const</span></li>
<li><span class="tt">bool&nbsp; <a href="node109.html#ref1942">has_exit_pupil</a>() const</span></li>
<li><span class="tt">void&nbsp; <a href="node109.html#ref1936">set_entrance_pupil</a>(Surface &amp;entrance)</span></li>
<li><span class="tt">void&nbsp; <a href="node109.html#ref1956">set_evironment</a>(RefObj&lt;Material::Material&gt;::ref env)</span></li>
<li><span class="tt">void&nbsp; <a href="node109.html#ref1940">set_exit_pupil</a>(Surface &amp;exit)</span></li>
<li><span class="tt">void&nbsp; transform_cache_dump(std::ostream &amp;o) const</span></li>
<li><span class="tt">void&nbsp; <a href="node109.html#ref1937">undef_entrance_pupil</a>()</span></li>
<li><span class="tt">void&nbsp; <a href="node109.html#ref1952">update_version</a>()</span></li>
</ul>
<h3>Inherited members<a href="#ref1932" id="ref1932" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li>12 members inherited from <a href="node129.html">RefObj</a></li>
<li>16 members inherited from <a href="node110.html">Container</a></li>
</ul>
<h2>Members detail<a href="#ref1933" id="ref1933" class="hover_link">&nbsp;&nbsp;</a></h2>
<div class="divpublicmember"><h3><span class="tt">System()</span><a href="#ref1934" id="ref1934" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Create a new empty system.</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_entrance_pupil(<a href="node113.html">Surface</a> &amp;entrance)</span><a href="#ref1936" id="ref1936" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Define an entrance pupil surface used to project source rays</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; undef_entrance_pupil()</span><a href="#ref1937" id="ref1937" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Discard defined entrance pupil</p></div><div class="divpublicmember"><h3><span class="tt"><a href="node113.html">Surface</a> &amp; get_entrance_pupil() const</span><a href="#ref1938" id="ref1938" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get defined entrance pupil surface or try to guess it if none defined</p></div><div class="divpublicmember"><h3><span class="tt">bool&nbsp; has_entrance_pupil() const</span><a href="#ref1939" id="ref1939" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Test if an entrance pupil has been defined</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_exit_pupil(<a href="node113.html">Surface</a> &amp;exit)</span><a href="#ref1940" id="ref1940" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Define an exit pupil surface</p></div><div class="divpublicmember"><h3><span class="tt"><a href="node113.html">Surface</a> &amp; get_exit_pupil() const</span><a href="#ref1941" id="ref1941" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get exit pupil</p></div><div class="divpublicmember"><h3><span class="tt">bool&nbsp; has_exit_pupil() const</span><a href="#ref1942" id="ref1942" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Test if an exit pupil has been defined</p></div><div class="divpublicmember"><h3><span class="tt">const Trace::<a href="node115.html">Params</a> &amp; get_tracer_params() const</span><a href="#ref1943" id="ref1943" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get default tracer parameters</p></div><div class="divpublicmember"><h3><span class="tt">Trace::<a href="node115.html">Params</a> &amp; get_tracer_params()</span><a href="#ref1944" id="ref1944" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get default tracer parameters</p></div><div class="divpublicmember"><h3><span class="tt">const Math::<a href="node74.html">Transform</a>&lt;3&gt; &amp; get_transform(const <a href="node111.html">Element</a> &amp;from, const <a href="node111.html">Element</a> &amp;to) const</span><a href="#ref1945" id="ref1945" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get transform between two elements local coordinates</p></div><div class="divpublicmember"><h3><span class="tt">const Math::<a href="node74.html">Transform</a>&lt;3&gt; &amp; get_global_transform(const <a href="node111.html">Element</a> &amp;from) const</span><a href="#ref1946" id="ref1946" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get transform from element local to global coordinates</p></div><div class="divpublicmember"><h3><span class="tt">const Math::<a href="node74.html">Transform</a>&lt;3&gt; &amp; get_local_transform(const <a href="node111.html">Element</a> &amp;to) const</span><a href="#ref1947" id="ref1947" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get transform from global to element local coordinates</p></div><div class="divpublicmember"><h3><span class="tt">unsigned int&nbsp; get_version() const</span><a href="#ref1949" id="ref1949" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get system version. version is updated each time system or associated elements properties are changed</p></div><div class="divpublicmember"><h3><span class="tt">unsigned int&nbsp; get_element_count() const</span><a href="#ref1950" id="ref1950" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get the number of registered elements in the system</p></div><div class="divpublicmember"><h3><span class="tt"><a href="node111.html">Element</a> &amp; get_element(unsigned int index) const</span><a href="#ref1951" id="ref1951" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get registered element. first element has index 1</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; update_version()</span><a href="#ref1952" id="ref1952" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Increase current system version</p></div><div class="divpublicmember"><h3><span class="tt">const std::<a href="http://gcc.gnu.org/onlinedocs/libstdc++/libstdc++-html-USERS-4.3/a01085.html">list</a>&lt;Source*&gt; &amp; get_source_list() const</span><a href="#ref1953" id="ref1953" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get system registered sources list</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; draw(Io::<a href="node41.html">Renderer</a> &amp;r) const</span><a href="#ref1954" id="ref1954" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Draw all elements of the system using specified renderer</p></div><div class="divpublicmember"><h3><span class="tt"><a href="node113.html">Surface</a> * colide_next(Math::<a href="node72.html">Plane</a> &amp;intersect, const Trace::<a href="node119.html">Ray</a> &amp;ray) const</span><a href="#ref1955" id="ref1955" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Find surface which colide with the given ray</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_evironment(RefObj&lt;Material::Material&gt;::ref env)</span><a href="#ref1956" id="ref1956" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>set environment material</p></div><div class="divpublicmember"><h3><span class="tt">Material::<a href="node59.html">Material</a> &amp; get_evironment() const</span><a href="#ref1957" id="ref1957" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>get environment material</p></div><hr /><p class="generated"><a style="float: right;" href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10-blue" alt="Valid XHTML 1.0 Strict" height="31" width="88" /></a>Generated by diaxen on Wed Nov 11 21:50:26 2009 using <a href="https://savannah.nongnu.org/projects/mkdoc/">MkDoc</a></p></body></html>