<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head> <title>GNU Goptical manual </title> <link rel="stylesheet" href="mkdoc.css" /> <meta name="Generator" content="MKDOC 1.0" /></head><body>
<div><a href="index.html" accesskey="top">Top</a> - <a href="node0.html#ref0">Table of contents</a>
 - <a href="node1.html#ref1">Introduction</a>
 - <a href="node2.html#ref2">API documentation</a>
 - <a href="node3.html#ref6">Main classes</a>
<div style="float: right"><a href="node106.html" accesskey="p">Previous </a> - <a href="node2.html" accesskey="u"> Up </a> - <a href="node108.html" accesskey="n"> Next</a></div></div><div style="clear: both; height:20px;"></div>
<h1><span class="tt">Goptical::Sys::OpticalSurface</span> class reference<br /><span class="subtitle">
[Core module]</span>
</h1>
<div style="clear: both; height:20px;"></div>
<h2>Declaration<a href="#ref1885" id="ref1885" class="hover_link">&nbsp;&nbsp;</a></h2>
<div class="divtextcontent"><div class="codebox"><code><span class="codedir">#include</span> &lt;Goptical/SysOpticalSurface&gt;<br /><br /><span class="codekw">class</span> OpticalSurface;<br /></code></div></div><h2>Description<a href="#ref1886" id="ref1886" class="hover_link">&nbsp;&nbsp;</a></h2>
<div class="divtextcontent"><p>This class implements optical surfaces.</p><p>Optical surfaces are defined by material on both side of the surface, curve and contour shape.</p></div><h2>Members list<a href="#ref1887" id="ref1887" class="hover_link">&nbsp;&nbsp;</a></h2>
<h3>Inherits<a href="#ref1888" id="ref1888" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt"><a href="node113.html">Surface</a></span> (public inheritance)</li>
</ul>
<h3>Public functions<a href="#ref1889" id="ref1889" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt"><a href="node107.html#ref1894">OpticalSurface</a>(const Math::Vector&lt;3&gt; &amp;p, RefObj&lt;Shape::Shape&gt;::ref shape, RefObj&lt;Curve::Curve&gt;::ref curve, RefObj&lt;Material::Material&gt;::ref left, RefObj&lt;Material::Material&gt;::ref right)</span></li>
<li><span class="tt">OpticalSurface(const Math::VectorPair&lt;3&gt; &amp;p, RefObj&lt;Shape::Shape&gt;::ref shape, RefObj&lt;Curve::Curve&gt;::ref curve, RefObj&lt;Material::Material&gt;::ref left, RefObj&lt;Material::Material&gt;::ref right)</span></li>
<li><span class="tt">virtual ~OpticalSurface()</span></li>
<li><span class="tt">const Coating::Coating &amp; get_coating() const</span></li>
<li><span class="tt">Rgba&nbsp; <a href="node107.html#ref1902">get_color</a>() const</span></li>
<li><span class="tt">const Material::Material &amp; <a href="node107.html#ref1898">get_material</a>(unsigned id) const</span></li>
<li><span class="tt">void&nbsp; set_coating(RefObj&lt;Coating::Coating&gt;::ref c)</span></li>
<li><span class="tt">void&nbsp; <a href="node107.html#ref1901">set_discard_intensity</a>(double intensity)</span></li>
<li><span class="tt">void&nbsp; <a href="node107.html#ref1897">set_material</a>(unsigned index, RefObj&lt;Material::Material&gt;::ref m)</span></li>
</ul>
<h3>Protected functions<a href="#ref1890" id="ref1890" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt">void&nbsp; <a href="node107.html#ref1907">reflect</a>(const Math::Line&lt;3&gt; &amp;ray, Math::Vector&lt;3&gt; &amp;direction, const Math::Vector&lt;3&gt; &amp;normal) const</span></li>
<li><span class="tt">bool&nbsp; <a href="node107.html#ref1906">refract</a>(const Math::Line&lt;3&gt; &amp;ray, Math::Vector&lt;3&gt; &amp;direction, const Math::Vector&lt;3&gt; &amp;normal, double refract_index) const</span></li>
<li><span class="tt">virtual void&nbsp; <a href="node107.html#ref1904">trace_ray_intensity</a>(Trace::Result &amp;result, Trace::Ray &amp;incident, const Math::Line&lt;3&gt; &amp;local, const Math::Plane &amp;intersect)</span></li>
<li><span class="tt">virtual void&nbsp; <a href="node107.html#ref1905">trace_ray_polarized</a>(Trace::Result &amp;result, Trace::Ray &amp;incident, const Math::Line&lt;3&gt; &amp;local, const Math::Plane &amp;intersect)</span></li>
<li><span class="tt">virtual void&nbsp; <a href="node107.html#ref1903">trace_ray_simple</a>(Trace::Result &amp;result, Trace::Ray &amp;incident, const Math::Line&lt;3&gt; &amp;local, const Math::Plane &amp;intersect)</span></li>
</ul>
<h3>Protected fields<a href="#ref1891" id="ref1891" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt">RefObj&lt;Coating::Coating&gt;::ref <a href="node107.html#ref1909">_coat</a></span></li>
<li><span class="tt">double <a href="node107.html#ref1910">_discard_intensity</a></span></li>
<li><span class="tt">RefObj&lt;Material::Material&gt;::ref <a href="node107.html#ref1908">_mat</a>[2]</span></li>
</ul>
<h3>Inherited members<a href="#ref1892" id="ref1892" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li>32 members inherited from <a href="node113.html">Surface</a></li>
</ul>
<h2>Members detail<a href="#ref1893" id="ref1893" class="hover_link">&nbsp;&nbsp;</a></h2>
<div class="divpublicmember"><h3><span class="tt">OpticalSurface(const Math::<a href="node81.html">Vector</a>&lt;3&gt; &amp;p, RefObj&lt;Shape::Shape&gt;::ref shape = Shape::infinite, RefObj&lt;Curve::Curve&gt;::ref curve = Curve::flat, RefObj&lt;Material::Material&gt;::ref left = Material::air, RefObj&lt;Material::Material&gt;::ref right = Material::air)</span><a href="#ref1894" id="ref1894" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Create a new optical surface at given location, shape, curve and materials.</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_material(unsigned index, RefObj&lt;Material::Material&gt;::ref m)</span><a href="#ref1897" id="ref1897" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Set surface left or right material</p></div><div class="divpublicmember"><h3><span class="tt">const Material::<a href="node59.html">Material</a> &amp; get_material(unsigned id) const</span><a href="#ref1898" id="ref1898" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get surface left or right material</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_discard_intensity(double intensity)</span><a href="#ref1901" id="ref1901" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Set minimal ray intensity. Incident rays with less intensity will be discarded</p></div><div class="divpublicmember"><h3><span class="tt"><a href="node86.html">Rgba</a>&nbsp; get_color() const</span><a href="#ref1902" id="ref1902" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function reimplements the <a href="node113.html#ref2078">get_color</a> virtual function defined in the <a href="node113.html">Surface</a> base class.</p><p>Get surface natural color from material properties.</p></div><div class="divprotectedmember"><h3><span class="tt">virtual void&nbsp; trace_ray_simple(Trace::<a href="node116.html">Result</a> &amp;result, Trace::<a href="node119.html">Ray</a> &amp;incident, const Math::<a href="node68.html">Line</a>&lt;3&gt; &amp;local, const Math::<a href="node72.html">Plane</a> &amp;intersect)</span><a href="#ref1903" id="ref1903" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function reimplements the <a href="node113.html#ref2081">trace_ray_simple</a> virtual function defined in the <a href="node113.html">Surface</a> base class.</p><p>This function access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">virtual void&nbsp; trace_ray_intensity(Trace::<a href="node116.html">Result</a> &amp;result, Trace::<a href="node119.html">Ray</a> &amp;incident, const Math::<a href="node68.html">Line</a>&lt;3&gt; &amp;local, const Math::<a href="node72.html">Plane</a> &amp;intersect)</span><a href="#ref1904" id="ref1904" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function reimplements the <a href="node113.html#ref2082">trace_ray_intensity</a> virtual function defined in the <a href="node113.html">Surface</a> base class.</p><p>This function access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">virtual void&nbsp; trace_ray_polarized(Trace::<a href="node116.html">Result</a> &amp;result, Trace::<a href="node119.html">Ray</a> &amp;incident, const Math::<a href="node68.html">Line</a>&lt;3&gt; &amp;local, const Math::<a href="node72.html">Plane</a> &amp;intersect)</span><a href="#ref1905" id="ref1905" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function reimplements the <a href="node113.html#ref2083">trace_ray_polarized</a> virtual function defined in the <a href="node113.html">Surface</a> base class.</p><p>This function access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">bool&nbsp; refract(const Math::<a href="node68.html">Line</a>&lt;3&gt; &amp;ray, Math::<a href="node81.html">Vector</a>&lt;3&gt; &amp;direction, const Math::<a href="node81.html">Vector</a>&lt;3&gt; &amp;normal, double refract_index) const</span><a href="#ref1906" id="ref1906" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function access is protected.</p><p>compute refracted ray direction according to fresnel law</p></div><div class="divprotectedmember"><h3><span class="tt">void&nbsp; reflect(const Math::<a href="node68.html">Line</a>&lt;3&gt; &amp;ray, Math::<a href="node81.html">Vector</a>&lt;3&gt; &amp;direction, const Math::<a href="node81.html">Vector</a>&lt;3&gt; &amp;normal) const</span><a href="#ref1907" id="ref1907" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function access is protected.</p><p>compute reflected ray direction according to fresnel law</p></div><div class="divprotectedmember"><h3><span class="tt">RefObj&lt;Material::Material&gt;::ref _mat[2]</span><a href="#ref1908" id="ref1908" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This field access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">RefObj&lt;Coating::Coating&gt;::ref _coat</span><a href="#ref1909" id="ref1909" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This field access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">double _discard_intensity</span><a href="#ref1910" id="ref1910" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This field access is protected.</p></div><hr /><p class="generated"><a style="float: right;" href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10-blue" alt="Valid XHTML 1.0 Strict" height="31" width="88" /></a>Generated by diaxen on Wed Nov 11 21:50:26 2009 using <a href="https://savannah.nongnu.org/projects/mkdoc/">MkDoc</a></p></body></html>