<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
 <meta name="Generator" content="MKDOC " />
 <title>GNU Goptical manual </title>
 <link rel="stylesheet" href="mkdoc.css" />
 <style type="text/css">

  .sec_hidden { display: none; }
  .sec_shown {}
 </style>
</head><body>
<div class="page"><div class="head"><div class="headlinks"><a href="Table_of_contents.html">Table of contents</a>
 &nbsp; <a href="Introduction.html">Introduction</a>
 &nbsp; <a href="Tutorial.html">Tutorial</a>
 &nbsp; <a href="Main_classes.html">Main classes</a>
</div><div class="navlinks"><a href="index.html" accesskey="t">Top</a> &nbsp; <a href="Curve_Spline_class_full_member_list.html"  accesskey="p" id="nav_prev">Previous </a> &nbsp; <a href="API_documentation.html"  accesskey="u" id="nav_up"> Up </a> &nbsp; <a href="Curve_Zernike_class_full_member_list.html"  accesskey="n" id="nav_next"> Next</a></div>
</div><div class="content"><div style="clear: both; height:20px;"></div>
<h1>Curve::Zernike class reference<br /><span class="subtitle">
[<a href="_Core_module_reference.html">Core</a> module]</span>
</h1><div class="sec_content1">
<div style="clear: both; height:20px;"></div>
</div><h2>Declaration<a href="#_Declaration15" id="_Declaration15" class="hover_link">&nbsp;&nbsp;</a></h2><div class="sec_content2">
<div class="codebox"><code><span class="codedir">#include</span> &lt;Goptical/Curve/Zernike&gt;<br /><br /><span class="codekw">namespace</span> Goptical {<br />  <span class="codekw">namespace</span> Curve {<br />    <span class="codekw">class</span> Zernike;<br />  };<br />};<br /></code></div><p> This class is a member of the <span class="codedecl"><a href="Curve_namespace_reference.html">Curve</a></span> namespace.</p>
</div><h2>Inheritance<a href="#_Inheritance15" id="_Inheritance15" class="hover_link">&nbsp;&nbsp;</a></h2><div class="sec_content2">
<div class="tree_frame" style="width:180px;"><div class="tree_row"><div style="width:10px;" class="tree_pad"></div><div style="width:160px;" class="tree_public"><span class="codedecl"><span class="ext_link"><a href="http://diaxen.ssji.net/dpp/ref_base_class_reference.html">ref_base</a></span>&lt;<a href="Curve_Base_class_reference.html">Base</a>&gt;</span></div
></div><br/><div style="width:90px;" class="tree_connect_1">&nbsp;</div
><div style="width:90px;" class="tree_connect_4">&nbsp;</div><br/><div style="width:90px;" class="tree_connect_1">&nbsp;</div
><div style="width:90px;" class="tree_connect_4">&nbsp;</div><br/><div class="tree_row"><div style="width:40px;" class="tree_pad"></div><div style="width:100px;" class="tree_public"><span class="codedecl"><a href="Curve_Base_class_reference.html">Base</a></span></div
></div><br/><div style="width:90px;" class="tree_connect_1">&nbsp;</div
><div style="width:90px;" class="tree_connect_4">&nbsp;</div><br/><div style="width:90px;" class="tree_connect_1">&nbsp;</div
><div style="width:90px;" class="tree_connect_4">&nbsp;</div><br/><div class="tree_row"><div style="width:40px;" class="tree_pad"></div><div style="width:100px;" class="tree_this"><span class="codedecl"><a href="Curve_Zernike_class_reference.html">Zernike</a></span></div
></div><br/></div>
</div><h2>Description<a href="#_Description20" id="_Description20" class="hover_link">&nbsp;&nbsp;</a></h2><div class="sec_content2">
<p>This class enables use of zernikes polynomials to define a surface curve. Zernikes terms can be enabled and disabled individually.</p>
<p>Fitting can be used to get best fit Zernike polynomials coefficients of an other curve.</p>
<p>This implementation uses Zernike polynomials set as described in ISO standard 10110-5.</p>
<p>Based on Zernikes pages by James C Wyant and Michael Koch. <span class="ext_link"><a href="http://www.optics.arizona.edu/jcwyant/Zernikes/ZernikePolynomials.htm">http://www.optics.arizona.edu/jcwyant/Zernikes/ZernikePolynomials.htm</a></span> and <span class="ext_link"><a href="http://www.astro-electronic.de/faq2.htm">http://www.astro-electronic.de/faq2.htm</a></span></p>
</div><h2>Members<a href="#_Members20" id="_Members20" class="hover_link">&nbsp;&nbsp;</a></h2><div class="sec_content2">
<p> See also the <a href="Curve_Zernike_class_full_member_list.html">full member list</a> section for this class.</p>
</div><h3>Inherited members<a href="#_Inherited_members10" id="_Inherited_members10" class="hover_link">&nbsp;&nbsp;</a></h3><div class="sec_content3">
<ul><li>5 members inherited from <span class="codedecl"><a href="Curve_Base_class_reference.html">Base</a></span></li>
</ul>
</div><h3>Functions<a href="#_Functions31" id="_Functions31" class="hover_link">&nbsp;&nbsp;</a></h3><div class="sec_content3">
<ul><li><span class="listitem"><span class="codedecl"><span class="member_prefix"></span><span class="member_signature"><span class="member_name"><a href="Curve_Zernike_class_reference.html#__114">Zernike</a></span>(<span class="member_params"><span class="member_param">double radius, </span><span class="member_param">double unit_scale = <em>[...]</em></span>)</span></span></span></span></li>
<li><span class="listitem"><span class="codedecl"><span class="member_prefix"></span><span class="member_signature"><span class="member_name"><a href="Curve_Zernike_class_reference.html#__115">Zernike</a></span>(<span class="member_params"><span class="member_param">double radius, </span><span class="member_param">double coefs[], </span><span class="member_param">unsigned int coefs_count, </span><span class="member_param">double unit_scale = <em>[...]</em></span>)</span></span></span></span></li>
<li><span class="listitem"><span class="codedecl"><span class="member_prefix">virtual void </span><span class="member_signature"><span class="member_name"><a href="Curve_Zernike_class_reference.html#__116">derivative</a></span>(<span class="member_params"><span class="member_param">const Math::Vector2 &amp;xy, </span><span class="member_param">Math::Vector2 &amp;dxdy</span>) const</span></span></span></span></li>
<li><span class="listitem"><span class="codedecl"><span class="member_prefix">double </span><span class="member_signature"><span class="member_name"><a href="Curve_Zernike_class_reference.html#__117">fit</a></span>(<span class="member_params"><span class="member_param">const Base &amp;c, </span><span class="member_param">const Trace::Distribution &amp;d = <em>[...]</em></span>)</span></span></span></span></li>
<li><span class="listitem"><span class="codedecl"><span class="member_prefix">double </span><span class="member_signature"><span class="member_name"><a href="Curve_Zernike_class_reference.html#__118">get_coefficient</a></span>(<span class="member_params"><span class="member_param">unsigned int n</span>) const</span></span></span></span></li>
<li><span class="listitem"><span class="codedecl"><span class="member_prefix">double </span><span class="member_signature"><span class="member_name"><a href="Curve_Zernike_class_reference.html#__119">get_radius</a></span>(<span class="member_params">) const</span></span></span></span></li>
<li><span class="listitem"><span class="codedecl"><span class="member_prefix">bool </span><span class="member_signature"><span class="member_name"><a href="Curve_Zernike_class_reference.html#__120">get_term_state</a></span>(<span class="member_params"><span class="member_param">unsigned int n</span>)</span></span></span></span></li>
<li><span class="listitem"><span class="codedecl"><span class="member_prefix">virtual double </span><span class="member_signature"><span class="member_name"><a href="Curve_Zernike_class_reference.html#__121">sagitta</a></span>(<span class="member_params"><span class="member_param">const Math::Vector2 &amp;xy</span>) const</span></span></span></span></li>
<li><span class="listitem"><span class="codedecl"><span class="member_prefix">void </span><span class="member_signature"><span class="member_name"><a href="Curve_Zernike_class_reference.html#__122">set_coefficient</a></span>(<span class="member_params"><span class="member_param">unsigned int n, </span><span class="member_param">double c</span>)</span></span></span></span></li>
<li><span class="listitem"><span class="codedecl"><span class="member_prefix">void </span><span class="member_signature"><span class="member_name"><a href="Curve_Zernike_class_reference.html#__123">set_coefficients_scale</a></span>(<span class="member_params"><span class="member_param">double s</span>)</span></span></span></span></li>
<li><span class="listitem"><span class="codedecl"><span class="member_prefix">void </span><span class="member_signature"><span class="member_name"><a href="Curve_Zernike_class_reference.html#__124">set_coefficients_threshold</a></span>(<span class="member_params"><span class="member_param">double t</span>)</span></span></span></span></li>
<li><span class="listitem"><span class="codedecl"><span class="member_prefix">void </span><span class="member_signature"><span class="member_name"><a href="Curve_Zernike_class_reference.html#__125">set_radius</a></span>(<span class="member_params"><span class="member_param">double radius</span>)</span></span></span></span></li>
<li><span class="listitem"><span class="codedecl"><span class="member_prefix">void </span><span class="member_signature"><span class="member_name"><a href="Curve_Zernike_class_reference.html#__126">set_term_state</a></span>(<span class="member_params"><span class="member_param">unsigned int n, </span><span class="member_param">bool enabled</span>)</span></span></span></span></li>
</ul>
</div><h3>Static functions<a href="#_Static_functions" id="_Static_functions" class="hover_link">&nbsp;&nbsp;</a></h3><div class="sec_content3">
<ul><li><span class="listitem"><span class="codedecl"><span class="member_prefix">static double </span><span class="member_signature"><span class="member_name"><a href="Curve_Zernike_class_reference.html#__128">zernike_poly</a></span>(<span class="member_params"><span class="member_param">unsigned int n, </span><span class="member_param">const Math::Vector2 &amp;xy</span>)</span></span></span></span></li>
<li><span class="listitem"><span class="codedecl"><span class="member_prefix">static void </span><span class="member_signature"><span class="member_name"><a href="Curve_Zernike_class_reference.html#__129">zernike_poly_d</a></span>(<span class="member_params"><span class="member_param">unsigned int n, </span><span class="member_param">const Math::Vector2 &amp;xy, </span><span class="member_param">Math::Vector2 &amp;dxdy</span>)</span></span></span></span></li>
</ul>
</div><h3>Constant<a href="#_Constant" id="_Constant" class="hover_link">&nbsp;&nbsp;</a></h3><div class="sec_content3">
<ul><li><span class="listitem"><span class="codedecl"><span class="member_prefix">static const unsigned int </span><span class="member_signature"><span class="member_name"><a href="Curve_Zernike_class_reference.html#__127">term_count</a></span></span></span></span></li>
</ul>
</div><h2>Members detail<a href="#_Members_detail18" id="_Members_detail18" class="hover_link">&nbsp;&nbsp;</a></h2><div class="sec_content2">
</div><div class="divmember public_member"><h3><span class="codedecl"><span class="member_prefix"></span><span class="member_signature"><span class="member_name">Zernike</span>(<span class="member_params"><span class="member_param">double radius, </span><span class="member_param">double unit_scale = 1.0</span>)</span></span></span><a href="#__114" id="__114" class="hover_link">&nbsp;&nbsp;</a></h3></div><div class="sec_content3">
<p>Create a Zernike curve defined over the given circle radius. </p>
<ul><li><span class="codedecl">radius</span>: Zernike circle radius </li>
<li><span class="codedecl">unit_scale</span>: Sagitta scale factor used to change units globally</li>
</ul>
</div><div class="divmember public_member"><h3><span class="codedecl"><span class="member_prefix"></span><span class="member_signature"><span class="member_name">Zernike</span>(<span class="member_params"><span class="member_param">double radius, </span><span class="member_param">double coefs[], </span><span class="member_param">unsigned int coefs_count, </span><span class="member_param">double unit_scale = 1.0</span>)</span></span></span><a href="#__115" id="__115" class="hover_link">&nbsp;&nbsp;</a></h3></div><div class="sec_content3">
<p>Create a Zernike curve defined over the given circle radius and initialize coefficients from table. </p>
<ul><li><span class="codedecl">radius</span>: Zernike circle radius </li>
<li><span class="codedecl">coefs</span>: Table of Zernike coefficients starting with z0 (piston) </li>
<li><span class="codedecl">coefs_count</span>: Number of coefficients available in the table </li>
<li><span class="codedecl">unit_scale</span>: Sagitta scale factor used to change units globally</li>
</ul>
</div><div class="divmember public_member"><h3><span class="codedecl"><span class="member_prefix">virtual void </span><span class="member_signature"><span class="member_name">derivative</span>(<span class="member_params"><span class="member_param">const Math::<a href="Math_namespace_reference.html#__652">Vector2</a> &amp;xy, </span><span class="member_param">Math::<a href="Math_namespace_reference.html#__652">Vector2</a> &amp;dxdy</span>) const</span></span></span><a href="#__116" id="__116" class="hover_link">&nbsp;&nbsp;</a></h3></div><div class="sec_content3">
<p>This virtual function overrides the <code><a href="Curve_Base_class_reference.html#__39">derivative</a></code> virtual function defined in the <code><a href="Curve_Base_class_reference.html">Base</a></code> base abstract class.</p>
<p><span class="nodoc">Documentation inherited from base class:</span></p>
<p>Get curve x and y derivative (gradient) at specified point</p>
</div><div class="divmember public_member"><h3><span class="codedecl"><span class="member_prefix">double </span><span class="member_signature"><span class="member_name">fit</span>(<span class="member_params"><span class="member_param">const <a href="Curve_Base_class_reference.html">Base</a> &amp;c, </span><span class="member_param">const Trace::<a href="Trace_Distribution_class_reference.html">Distribution</a> &amp;d = default_dist</span>)</span></span></span><a href="#__117" id="__117" class="hover_link">&nbsp;&nbsp;</a></h3></div><div class="sec_content3">
<p>Compute all zernike coefficient to best fit the given curve. RMS difference is returned. The specified distribution is used to choose sampling points on curve. Terms state is adjusted according to current threshold</p>
</div><div class="divmember public_member"><h3><span class="codedecl"><span class="member_prefix">double </span><span class="member_signature"><span class="member_name">get_coefficient</span>(<span class="member_params"><span class="member_param">unsigned int n</span>) const</span></span></span><a href="#__118" id="__118" class="hover_link">&nbsp;&nbsp;</a></h3></div><div class="sec_content3">
<p>Get coefficient associated with zernike term n</p>
</div><div class="divmember public_member"><h3><span class="codedecl"><span class="member_prefix">double </span><span class="member_signature"><span class="member_name">get_radius</span>(<span class="member_params">) const</span></span></span><a href="#__119" id="__119" class="hover_link">&nbsp;&nbsp;</a></h3></div><div class="sec_content3">
<p>Get Zernike circle radius</p>
</div><div class="divmember public_member"><h3><span class="codedecl"><span class="member_prefix">bool </span><span class="member_signature"><span class="member_name">get_term_state</span>(<span class="member_params"><span class="member_param">unsigned int n</span>)</span></span></span><a href="#__120" id="__120" class="hover_link">&nbsp;&nbsp;</a></h3></div><div class="sec_content3">
<p>Get current term enable state</p>
</div><div class="divmember public_member"><h3><span class="codedecl"><span class="member_prefix">virtual double </span><span class="member_signature"><span class="member_name">sagitta</span>(<span class="member_params"><span class="member_param">const Math::<a href="Math_namespace_reference.html#__652">Vector2</a> &amp;xy</span>) const</span></span></span><a href="#__121" id="__121" class="hover_link">&nbsp;&nbsp;</a></h3></div><div class="sec_content3">
<p>This virtual function implements the <code><a href="Curve_Base_class_reference.html#__42">sagitta</a></code> pure function declared in the <code><a href="Curve_Base_class_reference.html">Base</a></code> base abstract class.</p>
<p><span class="nodoc">Documentation inherited from base class:</span></p>
<p>Get curve sagitta at specified point</p>
</div><div class="divmember public_member"><h3><span class="codedecl"><span class="member_prefix">void </span><span class="member_signature"><span class="member_name">set_coefficient</span>(<span class="member_params"><span class="member_param">unsigned int n, </span><span class="member_param">double c</span>)</span></span></span><a href="#__122" id="__122" class="hover_link">&nbsp;&nbsp;</a></h3></div><div class="sec_content3">
<p>Set coefficient associated with zernike term n and enable term according to current threshold. See set_coefficients_threshold()</p>
</div><div class="divmember public_member"><h3><span class="codedecl"><span class="member_prefix">void </span><span class="member_signature"><span class="member_name">set_coefficients_scale</span>(<span class="member_params"><span class="member_param">double s</span>)</span></span></span><a href="#__123" id="__123" class="hover_link">&nbsp;&nbsp;</a></h3></div><div class="sec_content3">
<p>Set coefficients unit scale factor. default is 1 (1 mm).</p>
</div><div class="divmember public_member"><h3><span class="codedecl"><span class="member_prefix">void </span><span class="member_signature"><span class="member_name">set_coefficients_threshold</span>(<span class="member_params"><span class="member_param">double t</span>)</span></span></span><a href="#__124" id="__124" class="hover_link">&nbsp;&nbsp;</a></h3></div><div class="sec_content3">
<p>Set new coefficient threshold and adjust all term states (enabled/disabled) depending on new threshold. Term with coefficient absolute value below the specified threshold will be disabled. Disabling useless terms improve performance. Default threshold is 10^-10.</p>
</div><div class="divmember public_member"><h3><span class="codedecl"><span class="member_prefix">void </span><span class="member_signature"><span class="member_name">set_radius</span>(<span class="member_params"><span class="member_param">double radius</span>)</span></span></span><a href="#__125" id="__125" class="hover_link">&nbsp;&nbsp;</a></h3></div><div class="sec_content3">
<p>Set Zernike circle radius</p>
</div><div class="divmember public_member"><h3><span class="codedecl"><span class="member_prefix">void </span><span class="member_signature"><span class="member_name">set_term_state</span>(<span class="member_params"><span class="member_param">unsigned int n, </span><span class="member_param">bool enabled</span>)</span></span></span><a href="#__126" id="__126" class="hover_link">&nbsp;&nbsp;</a></h3></div><div class="sec_content3">
<p>This functions must be used to enable/disable a zernike term without changing its coefficient</p>
</div><div class="divmember public_member"><h3><span class="codedecl"><span class="member_prefix">static const unsigned int </span><span class="member_signature"><span class="member_name">term_count</span></span></span><a href="#__127" id="__127" class="hover_link">&nbsp;&nbsp;</a></h3></div><div class="sec_content3">
<p>Number of implemented zernike polynomials</p>
</div><div class="divmember public_member"><h3><span class="codedecl"><span class="member_prefix">static double </span><span class="member_signature"><span class="member_name">zernike_poly</span>(<span class="member_params"><span class="member_param">unsigned int n, </span><span class="member_param">const Math::<a href="Math_namespace_reference.html#__652">Vector2</a> &amp;xy</span>)</span></span></span><a href="#__128" id="__128" class="hover_link">&nbsp;&nbsp;</a></h3></div><div class="sec_content3">
<p>Evaluate zernike polynomial n</p>
</div><div class="divmember public_member"><h3><span class="codedecl"><span class="member_prefix">static void </span><span class="member_signature"><span class="member_name">zernike_poly_d</span>(<span class="member_params"><span class="member_param">unsigned int n, </span><span class="member_param">const Math::<a href="Math_namespace_reference.html#__652">Vector2</a> &amp;xy, </span><span class="member_param">Math::<a href="Math_namespace_reference.html#__652">Vector2</a> &amp;dxdy</span>)</span></span></span><a href="#__129" id="__129" class="hover_link">&nbsp;&nbsp;</a></h3></div><div class="sec_content3">
<p>Evaluate x and y derivatives of zernike polynomial n</p>
</div></div></div><div class="foot"><p class="generated"><a style="float: right;" href="http://validator.w3.org/check?uri=referer">Valid XHTML 1.0 Strict</a>Generated by diaxen on Sun Jan  8 00:47:23 2012 using <a href="http://www.nongnu.org/mkdoc/">MkDoc</a></p></div></body></html>