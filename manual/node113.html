<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head> <title>GNU Goptical manual </title> <link rel="stylesheet" href="mkdoc.css" /> <meta name="Generator" content="MKDOC 1.0" /></head><body>
<div><a href="index.html" accesskey="top">Top</a> - <a href="node0.html#ref0">Table of contents</a>
 - <a href="node1.html#ref1">Introduction</a>
 - <a href="node2.html#ref2">API documentation</a>
 - <a href="node3.html#ref6">Main classes</a>
<div style="float: right"><a href="node112.html" accesskey="p">Previous </a> - <a href="node2.html" accesskey="u"> Up </a> - <a href="node114.html" accesskey="n"> Next</a></div></div><div style="clear: both; height:20px;"></div>
<h1><span class="tt">Goptical::Sys::Surface</span> class reference<br /><span class="subtitle">
[Core module]</span>
</h1>
<div style="clear: both; height:20px;"></div>
<h2>Declaration<a href="#ref2050" id="ref2050" class="hover_link">&nbsp;&nbsp;</a></h2>
<div class="divtextcontent"><div class="codebox"><code><span class="codedir">#include</span> &lt;Goptical/SysSurface&gt;<br /><br /><span class="codekw">class</span> Surface;<br /></code></div></div><h2>Description<a href="#ref2051" id="ref2051" class="hover_link">&nbsp;&nbsp;</a></h2>
<div class="divtextcontent"><p>This is the base class for surface element. A surface element is defined by its surface curve and contour shape.</p></div><h2>Members list<a href="#ref2052" id="ref2052" class="hover_link">&nbsp;&nbsp;</a></h2>
<h3>Inherits<a href="#ref2053" id="ref2053" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt"><a href="node111.html">Element</a></span> (public inheritance)</li>
</ul>
<h3>Public types<a href="#ref2054" id="ref2054" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt">typedef Ref&lt;const Surface, Surface&gt; const_ref</span></li>
<li><span class="tt">typedef Ref&lt;Surface, Surface&gt; ref</span></li>
</ul>
<h3>Public functions<a href="#ref2055" id="ref2055" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt"><a href="node113.html#ref2065">Surface</a>(const Math::Vector&lt;3&gt; &amp;p, RefObj&lt;Shape::Shape&gt;::ref shape, RefObj&lt;Curve::Curve&gt;::ref curve)</span></li>
<li><span class="tt"><a href="node113.html#ref2066">Surface</a>(const Math::VectorPair&lt;3&gt; &amp;p, RefObj&lt;Shape::Shape&gt;::ref shape, RefObj&lt;Curve::Curve&gt;::ref curve)</span></li>
<li><span class="tt">virtual ~Surface()</span></li>
<li><span class="tt">virtual void&nbsp; <a href="node113.html#ref2080">draw</a>(Io::Renderer &amp;r) const</span></li>
<li><span class="tt">Math::VectorPair&lt;3&gt;&nbsp; <a href="node113.html#ref2079">get_bounding_box</a>() const</span></li>
<li><span class="tt">virtual Rgba&nbsp; <a href="node113.html#ref2078">get_color</a>() const</span></li>
<li><span class="tt">Curve::Curve &amp; <a href="node113.html#ref2069">get_curve</a>()</span></li>
<li><span class="tt">const Curve::Curve &amp; <a href="node113.html#ref2070">get_curve</a>() const</span></li>
<li><span class="tt">void&nbsp; <a href="node113.html#ref2075">get_pattern</a>(std::vector&lt;Math::Vector&lt;3&gt; &gt; &amp;dist, const Trace::Distribution &amp;d, bool unobstructed) const</span></li>
<li><span class="tt">Shape::Shape &amp; <a href="node113.html#ref2072">get_shape</a>()</span></li>
<li><span class="tt">const Shape::Shape &amp; <a href="node113.html#ref2073">get_shape</a>() const</span></li>
<li><span class="tt">bool&nbsp; <a href="node113.html#ref2074">intersect</a>(Math::Plane &amp;intersect, const Math::Line&lt;3&gt; &amp;ray) const</span></li>
<li><span class="tt">void&nbsp; <a href="node113.html#ref2068">set_curve</a>(RefObj&lt;Curve::Curve&gt;::ref c)</span></li>
<li><span class="tt">void&nbsp; <a href="node113.html#ref2071">set_shape</a>(RefObj&lt;Shape::Shape&gt;::ref s)</span></li>
<li><span class="tt">void&nbsp; <a href="node113.html#ref2076">set_transparency</a>(bool transparent)</span></li>
<li><span class="tt">template void&nbsp; <a href="node113.html#ref2077">trace_ray</a>(Trace::Result &amp;result, Trace::Ray &amp;incident, const Math::Line&lt;3&gt; &amp;local, const Math::Plane &amp;intersect)</span></li>
</ul>
<h3>Public fields<a href="#ref2056" id="ref2056" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt">static const const_ref null_const_ref</span></li>
<li><span class="tt">static const ref null_ref</span></li>
</ul>
<h3>Protected functions<a href="#ref2057" id="ref2057" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt">template void&nbsp; <a href="node113.html#ref2084">process_ray_</a>(Trace::Result &amp;result, Trace::rays_list_t *input)</span></li>
<li><span class="tt">virtual void&nbsp; <a href="node113.html#ref2086">process_ray_intensity</a>(Trace::Result &amp;result, Trace::rays_list_t *input)</span></li>
<li><span class="tt">virtual void&nbsp; <a href="node113.html#ref2087">process_ray_polarized</a>(Trace::Result &amp;result, Trace::rays_list_t *input)</span></li>
<li><span class="tt">virtual void&nbsp; <a href="node113.html#ref2085">process_ray_simple</a>(Trace::Result &amp;result, Trace::rays_list_t *input)</span></li>
<li><span class="tt">virtual void&nbsp; <a href="node113.html#ref2082">trace_ray_intensity</a>(Trace::Result &amp;result, Trace::Ray &amp;incident, const Math::Line&lt;3&gt; &amp;local, const Math::Plane &amp;intersect)</span></li>
<li><span class="tt">virtual void&nbsp; <a href="node113.html#ref2083">trace_ray_polarized</a>(Trace::Result &amp;result, Trace::Ray &amp;incident, const Math::Line&lt;3&gt; &amp;local, const Math::Plane &amp;intersect)</span></li>
<li><span class="tt">virtual void&nbsp; <a href="node113.html#ref2081">trace_ray_simple</a>(Trace::Result &amp;result, Trace::Ray &amp;incident, const Math::Line&lt;3&gt; &amp;local, const Math::Plane &amp;intersect)</span></li>
</ul>
<h3>Protected fields<a href="#ref2058" id="ref2058" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li><span class="tt">RefObj&lt;Curve::Curve&gt;::ref <a href="node113.html#ref2090">_curve</a></span></li>
<li><span class="tt">RefObj&lt;Shape::Shape&gt;::ref <a href="node113.html#ref2089">_shape</a></span></li>
<li><span class="tt">bool <a href="node113.html#ref2088">_transparent</a></span></li>
</ul>
<h3>Inherited members<a href="#ref2059" id="ref2059" class="hover_link">&nbsp;&nbsp;</a></h3>
<ul><li>39 members inherited from <a href="node111.html">Element</a></li>
</ul>
<h2>Members detail<a href="#ref2060" id="ref2060" class="hover_link">&nbsp;&nbsp;</a></h2>
<div class="divpublicmember"><h3><span class="tt">Surface(const Math::<a href="node81.html">Vector</a>&lt;3&gt; &amp;p, RefObj&lt;Shape::Shape&gt;::ref shape = Shape::infinite, RefObj&lt;Curve::Curve&gt;::ref curve = Curve::flat)</span><a href="#ref2065" id="ref2065" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Create a surface element at given location.</p></div><div class="divpublicmember"><h3><span class="tt">Surface(const Math::<a href="node84.html">VectorPair</a>&lt;3&gt; &amp;p, RefObj&lt;Shape::Shape&gt;::ref shape = Shape::infinite, RefObj&lt;Curve::Curve&gt;::ref curve = Curve::flat)</span><a href="#ref2066" id="ref2066" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Create a surface element at given location.</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_curve(RefObj&lt;Curve::Curve&gt;::ref c)</span><a href="#ref2068" id="ref2068" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Set surface curve</p></div><div class="divpublicmember"><h3><span class="tt">Curve::<a href="node13.html">Curve</a> &amp; get_curve()</span><a href="#ref2069" id="ref2069" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get surface curve</p></div><div class="divpublicmember"><h3><span class="tt">const Curve::<a href="node13.html">Curve</a> &amp; get_curve() const</span><a href="#ref2070" id="ref2070" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get surface curve</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_shape(RefObj&lt;Shape::Shape&gt;::ref s)</span><a href="#ref2071" id="ref2071" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Set surface shape</p></div><div class="divpublicmember"><h3><span class="tt">Shape::<a href="node97.html">Shape</a> &amp; get_shape()</span><a href="#ref2072" id="ref2072" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get surface shape</p></div><div class="divpublicmember"><h3><span class="tt">const Shape::<a href="node97.html">Shape</a> &amp; get_shape() const</span><a href="#ref2073" id="ref2073" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get surface shape</p></div><div class="divpublicmember"><h3><span class="tt">bool&nbsp; intersect(Math::<a href="node72.html">Plane</a> &amp;intersect, const Math::<a href="node68.html">Line</a>&lt;3&gt; &amp;ray) const</span><a href="#ref2074" id="ref2074" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get intersection point and normal to surface at intersection. Return false if no intersection occured.</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; get_pattern(std::<a href="http://gcc.gnu.org/onlinedocs/libstdc++/libstdc++-html-USERS-4.3/a01318.html">vector</a>&lt;Math::Vector&lt;3&gt; &gt; &amp;dist, const Trace::<a href="node114.html">Distribution</a> &amp;d, bool unobstructed = false) const</span><a href="#ref2075" id="ref2075" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get distribution pattern points projected on the surface</p></div><div class="divpublicmember"><h3><span class="tt">void&nbsp; set_transparency(bool transparent)</span><a href="#ref2076" id="ref2076" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Set surface transparency mode. Surfaces may transparently reemit light rays or block them. Default is non transparent surfaces.</p></div><div class="divpublicmember"><h3><span class="tt">template &lt;Trace::IntensityMode m&gt; void&nbsp; trace_ray(Trace::<a href="node116.html">Result</a> &amp;result, Trace::<a href="node119.html">Ray</a> &amp;incident, const Math::<a href="node68.html">Line</a>&lt;3&gt; &amp;local, const Math::<a href="node72.html">Plane</a> &amp;intersect)</span><a href="#ref2077" id="ref2077" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Trace a single ray through the surface</p></div><div class="divpublicmember"><h3><span class="tt">virtual <a href="node86.html">Rgba</a>&nbsp; get_color() const</span><a href="#ref2078" id="ref2078" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>Get surface apparent color</p></div><div class="divpublicmember"><h3><span class="tt">Math::<a href="node84.html">VectorPair</a>&lt;3&gt;&nbsp; get_bounding_box() const</span><a href="#ref2079" id="ref2079" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function reimplements the <a href="node111.html#ref2010">get_bounding_box</a> virtual function defined in the <a href="node111.html">Element</a> base class.</p><p><span class="nodoc">Documentation inherited from base class:</span></p><p>Get bounding box in local coordinates</p></div><div class="divpublicmember"><h3><span class="tt">virtual void&nbsp; draw(Io::<a href="node41.html">Renderer</a> &amp;r) const</span><a href="#ref2080" id="ref2080" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function reimplements the <a href="node111.html#ref2016">draw</a> virtual function defined in the <a href="node111.html">Element</a> base class.</p><p><span class="nodoc">Documentation inherited from base class:</span></p><p>Draw element using the given renderer</p></div><div class="divprotectedmember"><h3><span class="tt">virtual void&nbsp; trace_ray_simple(Trace::<a href="node116.html">Result</a> &amp;result, Trace::<a href="node119.html">Ray</a> &amp;incident, const Math::<a href="node68.html">Line</a>&lt;3&gt; &amp;local, const Math::<a href="node72.html">Plane</a> &amp;intersect)</span><a href="#ref2081" id="ref2081" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">virtual void&nbsp; trace_ray_intensity(Trace::<a href="node116.html">Result</a> &amp;result, Trace::<a href="node119.html">Ray</a> &amp;incident, const Math::<a href="node68.html">Line</a>&lt;3&gt; &amp;local, const Math::<a href="node72.html">Plane</a> &amp;intersect)</span><a href="#ref2082" id="ref2082" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">virtual void&nbsp; trace_ray_polarized(Trace::<a href="node116.html">Result</a> &amp;result, Trace::<a href="node119.html">Ray</a> &amp;incident, const Math::<a href="node68.html">Line</a>&lt;3&gt; &amp;local, const Math::<a href="node72.html">Plane</a> &amp;intersect)</span><a href="#ref2083" id="ref2083" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">template &lt;Trace::IntensityMode m&gt; void&nbsp; process_ray_(Trace::<a href="node116.html">Result</a> &amp;result, Trace::rays_list_t *input)</span><a href="#ref2084" id="ref2084" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This template function access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">virtual void&nbsp; process_ray_simple(Trace::<a href="node116.html">Result</a> &amp;result, Trace::rays_list_t *input)</span><a href="#ref2085" id="ref2085" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function reimplements the process_ray_simple virtual function defined in the <a href="node111.html">Element</a> base class.</p><p>This function access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">virtual void&nbsp; process_ray_intensity(Trace::<a href="node116.html">Result</a> &amp;result, Trace::rays_list_t *input)</span><a href="#ref2086" id="ref2086" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function reimplements the process_ray_intensity virtual function defined in the <a href="node111.html">Element</a> base class.</p><p>This function access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">virtual void&nbsp; process_ray_polarized(Trace::<a href="node116.html">Result</a> &amp;result, Trace::rays_list_t *input)</span><a href="#ref2087" id="ref2087" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This function reimplements the process_ray_polarized virtual function defined in the <a href="node111.html">Element</a> base class.</p><p>This function access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">bool _transparent</span><a href="#ref2088" id="ref2088" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This field access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">RefObj&lt;Shape::Shape&gt;::ref _shape</span><a href="#ref2089" id="ref2089" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This field access is protected.</p></div><div class="divprotectedmember"><h3><span class="tt">RefObj&lt;Curve::Curve&gt;::ref _curve</span><a href="#ref2090" id="ref2090" class="hover_link">&nbsp;&nbsp;</a></h3>
</div><div class="divtextcontent"><p>This field access is protected.</p></div><hr /><p class="generated"><a style="float: right;" href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10-blue" alt="Valid XHTML 1.0 Strict" height="31" width="88" /></a>Generated by diaxen on Wed Nov 11 21:50:26 2009 using <a href="https://savannah.nongnu.org/projects/mkdoc/">MkDoc</a></p></body></html>